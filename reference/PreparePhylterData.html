<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Prepare data for phylter analysis — PreparePhylterData • phylter</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Prepare data for phylter analysis — PreparePhylterData"><meta name="description" content="Prepare datasets for the phylter function. Detects possible issues,
discards genes if necessary, imputes missing data if any, and reorders row- and col-names.
For internal usage mostly."><meta property="og:description" content="Prepare datasets for the phylter function. Detects possible issues,
discards genes if necessary, imputes missing data if any, and reorders row- and col-names.
For internal usage mostly."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">phylter</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.12</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/runphylter.html">1-Use of phylter</a></li>
    <li><a class="dropdown-item" href="../articles/phyltercontainer.html">2-PhylteR in a container</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/damiendevienne/phylter/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Prepare data for phylter analysis</h1>
      <small class="dont-index">Source: <a href="https://github.com/damiendevienne/phylter/blob/master/R/PreparePhylterData.R" class="external-link"><code>R/PreparePhylterData.R</code></a></small>
      <div class="d-none name"><code>PreparePhylterData.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prepare datasets for the <code>phylter</code> function. Detects possible issues,
discards genes if necessary, imputes missing data if any, and reorders row- and col-names.
For internal usage mostly.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">PreparePhylterData</span><span class="op">(</span></span>
<span>  <span class="va">X</span>,</span>
<span>  bvalue <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  distance <span class="op">=</span> <span class="st">"patristic"</span>,</span>
<span>  Norm <span class="op">=</span> <span class="st">"median"</span>,</span>
<span>  Norm.cutoff <span class="op">=</span> <span class="fl">0.001</span>,</span>
<span>  gene.names <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">X<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A list of phylogenetic trees (phylo object) or a list
of distance matrices. Trees can have different number of leaves and matrices
can have different dimensions. If this is the case, missing values are imputed.</p></dd>


<dt id="arg-bvalue">bvalue<a class="anchor" aria-label="anchor" href="#arg-bvalue"></a></dt>
<dd><p>If X is a list of trees, nodes with a support below 'bvalue' will be collapsed
prior to the outlier detection.</p></dd>


<dt id="arg-distance">distance<a class="anchor" aria-label="anchor" href="#arg-distance"></a></dt>
<dd><p>If X is a list of trees, type of distance used to compute the
pairwise matrices for each tree. Can be "patristic" (sum of branch lengths separating tips, the default)
or nodal (number of nodes separating tips).</p></dd>


<dt id="arg-norm">Norm<a class="anchor" aria-label="anchor" href="#arg-norm"></a></dt>
<dd><p>Should the matrices be normalized and how. If "median", matrices are divided by their median, if
"mean" they are divided by their mean, if "none", no normalization if performed. Normalizing ensures that fast-evolving
(and slow-evolving) genes are not treated as outliers. Normalization by median is less sensitive to outlier values
but can lead to errors if some matrices have a median value of 0.
are not considered outliers.</p></dd>


<dt id="arg-norm-cutoff">Norm.cutoff<a class="anchor" aria-label="anchor" href="#arg-norm-cutoff"></a></dt>
<dd><p>Value of the median (if Norm="median") or the mean (if
Norm="mean") below which matrices are simply discarded from the analysis. This
prevents dividing by 0, and getting rid of genes that contain mostly branches
of length 0 and are therefore uninformative anyway.</p></dd>


<dt id="arg-gene-names">gene.names<a class="anchor" aria-label="anchor" href="#arg-gene-names"></a></dt>
<dd><p>List of gene names used to rename elements in X. If NULL (the default),
elements are named 1,2,..,length(X).</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>If TRUE (the default), messages are written during the filtering process to get information
of what is happening</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list of class 'phylter' with the 'Initial' (before filtering) and 'Final' (after filtering) states,
or a list of class 'phylterinitial' only, if InitialOnly=TRUE.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">carnivora</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># transform trees to a named list of matrices with same dimensions</span></span></span>
<span class="r-in"><span><span class="co"># and identical row and column orders and names</span></span></span>
<span class="r-in"><span><span class="va">carnivora.clean</span><span class="op">&lt;-</span><span class="fu">PreparePhylterData</span><span class="op">(</span><span class="va">carnivora</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Genes:    125</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Number of Species:  53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> --------</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span> </span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Damien M. de Vienne, Stéphane Dray, Théo Tricou, Aurélie Siberchicot.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

